<header class="navbar">
  <div class="container">
    <a href="{{ '/' | relative_url }}" class="logo">{{ site.title }}</a>

    <nav class="nav-links">
      <a href="{{ '/' | relative_url }}">{{ site.data.lang[site.lang].nav_home }}</a>
      <a href="{{ '/projects.html' | relative_url }}">{{ site.data.lang[site.lang].nav_projects }}</a>
      <a href="{{ '/cv.html' | relative_url }}">{{ site.data.lang[site.lang].nav_cv }}</a>
      <a href="{{ '/about.html' | relative_url }}">{{ site.data.lang[site.lang].nav_about }}</a>
    </nav>

    <div class="controls">
      <select id="lang-switch" aria-label="Language switch">
        <option value="id">ID</option>
        <option value="en">EN</option>
      </select>
      <button id="theme-toggle" aria-label="Toggle theme">ðŸŒ“</button>
    </div>
  </div>
</header>

<script>
const langSelect = document.getElementById('lang-switch');
langSelect.value = localStorage.getItem('site_lang') || '{{ site.default_lang }}';
langSelect.addEventListener('change', e => {
  localStorage.setItem('site_lang', e.target.value);
  document.cookie = 'site_lang=' + e.target.value + '; path=/';
  location.reload();
});

const themeButton = document.getElementById('theme-toggle');
themeButton.addEventListener('click', () => {
  document.body.classList.toggle('dark');
  localStorage.setItem('theme', document.body.classList.contains('dark') ? 'dark' : 'light');
});
if (localStorage.getItem('theme') === 'dark') document.body.classList.add('dark');
</script>
